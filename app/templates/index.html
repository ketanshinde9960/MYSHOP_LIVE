{% extends "base.html" %} 
{% load static %}
 {% block body %}
<main>
  
  <div class="container">
    <!-- carousel here -->

    <link rel="stylesheet" href="{% static 'css/style.css' %}" />

    <div id="myCarousel" class="carousel slide mb-6" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#myCarousel"
          data-bs-slide-to="0"
          class="active"
          aria-label="Slide 1"
          aria-current="true"
        ></button>
        <button
          type="button"
          data-bs-target="#myCarousel"
          data-bs-slide-to="1"
          aria-label="Slide 2"
          class=""
        ></button>
        <button
          type="button"
          data-bs-target="#myCarousel"
          data-bs-slide-to="2"
          aria-label="Slide 3"
          class=""
        ></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <a href="/cart/">
            <img
              src="{% static 'images/homeheropage.webp' %}"
              alt="banner"
              class="img-fluid w-100 d-block"
            />
          </a>
          <div class="container">
            <div class="carousel-caption text-start text-secondary-emphasis">
              <p>
                {% comment %}
                <a class="btn btn-lg btn-primary" href="/register/"
                  >Sign up today</a
                >
                {% endcomment %}
              </p>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <a href="/cart/">
            <img
              src="{% static 'images/Laptops.webp' %}"
              alt="banner"
              class="img-fluid w-100 d-block"
            />
          </a>
          {% comment %}
          <div class="container">
            <div class="carousel-caption text-secondary-emphasis">
              <p>
                <a class="btn btn-lg btn-primary" href="/about/">Learn more</a>
              </p>
            </div>
          </div>
          {% endcomment %}
        </div>
        <div class="carousel-item">
          <a href="/cart/">
            <img
              src="{% static 'images/homeappliances.webp' %}"
              alt="banner"
              class="img-fluid w-100 d-block"
            />
          </a>

          
          <div class="container">
            {% comment %} {% comment %}
            <div class="carousel-caption text-end text-secondary-emphasis">
              <p>
                <a class="btn btn-lg btn-primary" href="#">Browse gallery</a>
              </p>
            </div>
            {% endcomment %}
          </div>
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#myCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#myCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <!-- carousel here -->

    <!-- cards here -->
    <section id="cards" class="mt-4">
      <!-- title & subTitle -->
      <div class="container mb-4">
        <div class="text-center bg-body-secondary p-5 rounded">
          <h3 
          class="opacity-75">Shop the Latest Electronics Collection!</h3>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-3">
            <style>
              body {
                background-color: #f8f9fa;
              }
              .sidebar {
                max-width: 300px;
                background-color: #ffffff;
                border: 1px solid #e0e0e0;
                border-radius: 8px;
                padding: 15px;
              }
              .category-title {
                font-weight: bold;
                color: #0d6efd;
              }
              .accordion-button:not(.collapsed) {
                background-color: #e9ecef;
                color: #212529;
              }
              .accordion-item {
                border: none;
              }
            </style>

            <!-- Category Toggle Button -->
            <button
              class="btn btn-dark btn-sm btn-category-toggle d-flex align-items-center gap-2 mt-3"
              data-bs-toggle="collapse"
              data-bs-target="#categorySidebar"
              aria-expanded="false"
              aria-controls="categorySidebar"
            >
              <i class="bi bi-list"></i>
              <span>Category</span>
            </button>
            <div class="collapse category-product-gap" id="categorySidebar">
              <div class="card shadow-sm border-0 rounded mt-2">
                <div class="card-body p-3">
                  <ul class="category-icon-list">
                    <li>
                      <a
                        href="#"
                        class="category-link"
                        data-slug="accessories"
                        title=" Accessories "
                      >
                        <i
                          class="fas fa-headphones fa-lg"
                          title="Accessories"
                        ></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="category-link" data-slug="air-Conditioner" title="Air Conditioner"
                      >
                        <i
                          class="fas fa-wind fa-lg"
                          title="Air Conditioner"
                        ></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="category-link" data-slug="laptops-printers" title="Laptops & Printers  "
                      >
                        <i
                          class="fas fa-laptop fa-lg"
                          title="Laptops & Printers"
                        ></i>
                      </a>
                    </li>
                    <li>
                     <a href="#" class="category-link" data-slug="home-appliances" title="Home Appliances"
                      >
                        <i
                          class="fas fa-blender-phone fa-lg"
                          title="Home Appliances"
                        ></i>
                      </a>
                    </li>
                    <li>
                     <a href="#" class="category-link" data-slug="home-entertainment" title="Home Entertainment"
                      >
                        <i
                          class="fas fa-tv fa-lg"
                          title="Home Entertainment"
                        ></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="category-link" data-slug="smartphones" title="Smartphones"
                      >
                        <i
                          class="fas fa-mobile-alt fa-lg"
                          title="Smartphones"
                        ></i>
                      </a>
                    </li>
                    <li>
                     <a href="#" class="category-link" data-slug="microwaves"

                        title="Microwaves"
                      >
                        <i class="fas fa-fire-alt fa-lg" title="Microwaves"></i>
                      </a>
                    </li>

                    <li>
                     <a href="#" class="category-link" data-slug="air-coolers" title="Air Coolers"
                      >
                        <i class="fas fa-fan fa-lg" title="Air Coolers"></i>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <style>
              .category-icon-list {
                list-style: none;
                padding-left: 0;
                display: flex;
                flex-direction: column;
                gap: 12px; /* gap between icons */
              }

              .category-icon-list li {
                height: 40px;
                display: flex;
                align-items: center;
              }

              .category-icon-list li i {
                font-size: 1.6rem;
                color: #333;
                line-height: 40px; /* vertically center inside 40px height */
              }
            </style>
          </div>
          <div class="col-9">
            <div id="product-list">
             {% include "cards.html" %}
            </div>
          </div>

        </div>
      </div>
    </section>
    <!-- cards here -->
  </div>
</main>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    $(".category-link").on("click", function (e) {
      e.preventDefault();
      let slug = $(this).data("slug");
      let url = `/category/${slug}/`;

      $.ajax({
        url: url,
        type: "GET",
        success: function (data) {
          $("#product-list").html($(data).find("#product-list").html());
        },
        error: function () {
          alert("Failed to load products.");
        }
      });
    });
  });
</script>


{% endblock body %}
